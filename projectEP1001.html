<!DOCTYPE html>
<html>
  <head>
    <title> My EP1001 Final Project</title>
    <link rel="stylesheet" type="text/css" href="./stylesheet.css" />
  </head>
<body>
  <div id="container">
    <div id="header">
      <h1>MY PROJECTS</h1>
    </div>
    <div id="content">
      <div class="navbar">
        <a href="index.html">Home</a>
        <a href="about me.html">About Me</a>
        <a href="FablabSafety.html">Fablab Safety</a>
        <div class="dropdown">
        <button class="dropbtn" onclick="myFunction()">Blog
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content" id="myDropdown">
          <a href="Blog/HTML.html">Web Development</a>
          <a href="Blog/vectorvsrastor.html">Vector Vs Raster</a>
          <a href="Blog/htmlvscss.html">HTML and CSS</a>
          <a href="Blog/MusicBox.html">Creating a Music Box</a>
          <a href="Blog/Arduino.html">Arduino Test Log</a>
          <a href="Blog/Printing1.html">3D Printing Attempts</a>
        </div>
        </div>
        <div class="dropdown">
        <button class="dropbtn" onclick="myFunction()">Guide
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content" id="myDropdown">
          <a href="Lessons/3DPrinting1.html">Fusion360: Knight Piece</a>
          <a href="Lessons/A3DPrinting1.html">3D Printing</a>
          <a href="Lessons/Vector.html">Vector</a>
          <a href="Lessons/Rastor.html">Raster</a>
        </div>
        </div>
        <a href="tooltable.html">Tool Table</a>
        <a href="project.html">EP1000 Final Project</a>
        <a href="projectEP1001.html">EP1001 Final Project</a>
      </div>


      <div id="main">
        <div id="aaa">
          <h2>Project Title: CNC Router</h2>
          <h3>Final Project</h3>
          <p>For my final project for EP1001, I chose to make a CNC router to challenge myself. The cheapest CNC router that I could find on the internet cost $633.96. Therefore the main goal of this
          project is to make a CNC router that is cheaper than the one I could find on the internet. </p>
          <h3>What does it do?</h3>
          <p>The CNC router will take G-code files I send from my laptop to the cut out designs onto whatever material I place on the board.</p>
          <h3>What are it's features?</h3>
          <p>The CNC router will use an ATmega328 PCB with GRBL which is an open source parallel-port-based motion control for CNC milling.</p>

          <h4> Preview </h4>
          <table style="width:100%">
          <tr>
            <th>Test Cut</th>
            <th>1 Min Video</th>
          </tr>

            <tr>
              <td><iframe width="560" height="315" src="https://www.youtube.com/embed/nVf0ZSj8GF0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></td>

              <td><iframe width="560" height="315" src="https://www.youtube.com/embed/GNNfKkBNALs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              </td>
          </tr>
          </table>


          <table style="width:100%">
          <tr>
            <th></th>
            <th>Requiements</th>
          </tr>
          <tr>
            <td>2D and/or 3D designed part(s)</td>
            <td>The CNC router consist of both 3D printed parts and CNC milled parts.</td>
          </tr>
          <tr>
            <td>subtractive manufacturing (i.e. cnc) part</td>
            <td>The entire base of the machine is made from Medium Density Fibreboard.</td>
          </tr>
          <tr>
            <td>An embedded microntroller that you designed & fabricated</td>
            <td>I used an ATmega328p.</td>
          </tr>
          <tr>
            <td>input and/or output device(s) that interacts with the user</td>
            <td>I will be using my latop to comunicate with the microcontroller that moves the CNC machine. The microcontroller
            moves the stepper motors which moves the cutter.</td>
          </tr>
          <tr>
            <td>embedded program</td>
            <td>I will be using GRBL with my own modifications.</td>
          </tr>
          </table>
          <h3>Bill of materials</h3>
          <table style="width:100%">
            <tr>
              <th>Sn</th>
              <th>Qty</th>
              <th>Item Description</th>
              <th>Approx Cost</th>
            </tr>
            <tr>
              <td>1</td>
              <td>4</td>
              <td>Nema 17 Stepper Motor (40mm height)</td>
              <td>$14.00</td>
            </tr>
            <tr>
              <td>2</td>
              <td>1</td>
              <td>CNC Shield V3 Engraving Machine + A4988 Stepper Motor Driver</td>
              <td>$7.91</td>
            </tr>
            <tr>
              <td>3</td>
              <td>1</td>
              <td>Medium Density Fibreboard</td>
              <td>Fablab</td>
            </tr>
            <tr>
              <td>4</td>
              <td>2</td>
              <td>500mm, 330mm, 120mm (12mm) Stainless Steel Rods</td>
              <td>~$30</td>
            </tr>
            <tr>
              <td>5</td>
              <td>2</td>
              <td>500mm, 280mm, 120mm (8mm Lead Screws) </td>
              <td>~$30</td>
            </tr>
            <tr>
              <td>5</td>
              <td>6</td>
              <td>12mm X 57mm Bearings</td>
              <td>$76.90</td>
            </tr>
          </table>

          <h3>Documentation:</h3>
          <p>Overview: </p>

          <h4>Ideation:</h4>
          <table style="width:100%">
            <tr>
              <th>Design</th>
              <th>Explaination</th>
            </tr>

              <tr>
                <td><img src="EP1001PIC/CheapCNC.jpg" style="width:300px "></td>
                <td>

                  <p>This is the $633.96 tabletop CNC router I was refering to eariler. It has a "fixed" X-axis carriage. It has a Working area of 126mm*88mm*38mm which is good for PCB production and engraving small pieces of material.
                  However, I am looking to make something that has a bigger Working area for bigger projects.</p>

                </td>
            </tr>

          </tr>

            <tr>
              <td><img src="EP1001PIC/SchCNC.png" style="width:300px "></td>
              <td>

                <p>This is the CNC router used in school called the Stepcraft 420. It has a Working area of 298 x 415 x 132 mm. It uses two stepper motors to move the X-Axis Carriage. Unlike the other two CNC routers on this list, its Z-axis carriage uses
                ball bearing instead of linear bearings. The ball bearings appear to travel a long a aluminimum groove which might provide better stablity compared to using linearing bearings. I like the design of the X-axis carraige as it
                does not block the working area of the router.</p>

              </td>
          </tr>

          <tr>
            <td><img src="EP1001PIC/HmCNC.jpg" style="width:300px "></td>
            <td>

              <p>This a homemade CNC machine. It has a varaible design allowing for a a custom working area with how the parts are made. Similar to the step craft in school, the homemade CNC router uses two steppers to control the X-Axis Carriage.
              I like the spindle carraige for this design as there is a part that fits a Dermel Rotary Tool which is a item I alraedy own which can be used as a spindle.</p>

            </td>
        </tr>

          </table>

          <h4>Research Conclusion:</h4>
          <p>In Conclusion, I will be incorporating the certain aspects of the Homemade CNC machine and the Stepcraft CNC router. I like the idea of have an X axis that isn't blocked by the lead screw and rods of the machine.
          Additionally, having a spindle carraige where I could use my own rotary tool as a spindle is ideal as it would cut down on the wiring I would have to do.</p>

          <h4>Design Cad Model:</h4>
          <table style="width:100%">
            <tr>
              <th>Design</th>
              <th>Explaination</th>
            </tr>

              <tr>
                <td><img src="EP1001PIC/Design.png" style="width:300px "></td>
                <td>

                  <p>Design 1 is mostly based off of the homemade CNC machine design using aluminimum profiles for a base as the profiles are modular allowing it to be assembled easily with L backets. However, this
                  design does not fit one of the requirements as parts of it has to be made with a subtractive manufacturing part and the only part I plan to make using subtractive manufacturing is the sacrificial board
                  of the router.</p>

                </td>
            </tr>



            <tr>
              <td><img src="EP1001PIC/Design1.png" style="width:300px "></td>
              <td>

                <p>Design 2 uses the idea from the stepcraft machine it has a similiar working area of both designs but for this design, I lowered the height of the Y - Axis stepper similar to the stepcraft router.
                I would have gone with this design if it weren't for two issues I encoutered after I designed it. The X-Axis Carraige was just enough to fit in my printer, but the working height wwas only 18mm.
                With how big the piece is, it would take (28 Hours and 38 Mins) to print out the entire piece using my settings for the design. Another issue with this design was the amount of pieces I would have to make for it.
                The total number of pieces of this design is around 20 pieces, which is time consuming. The more pieces also meant that there are more factors to the overall sturcture of the design so if a piece is to big
                or small I would have to redo it again.</p>

              </td>
          </tr>

          <tr>
            <td><img src="EP1001PIC/Design2.png" style="width:300px "></td>
            <td>

              <p>Design 3 takes aspects from both designs. The main goal of this design is to reduce the amount of parts I need to CNC and reduce the overall size of the 3D printed parts to fit within the fablab printing requirements.
              I managed to reduce the amount of pieces for the base going from 20 pieces to 9 pieces. The size of the piece is also reduced so that the overall print time is (3 hours and 30 mins) which is just barely over the limit of allocated printing time.</p>

            </td>
        </tr>


                <tr>
                  <td><img src="EP1001PIC/LB1.jpg" style="width:300px "></td>
                  <td>

                    <p><h3>Additional Design Constraints</h3>
                    To prepare for this project in advance, I had preorder the materials in advance before the chinese new year. This left me with a Design Constraint. The pic shown on the left is the linear bearing I ordered
                    for this project. I saw many different poeple recommend this type of bearing for this project, not knowing why but as a preparation for my designs, I decided to get them in advance. </p>

                  </td>
              </tr>

              <tr>
                <td><img src="EP1001PIC/LB2.jpg" style="width:300px "></td>
                <td>

                  <p>I later found out a few days later about these type of linear bearings. These "Pillow Block" Bearings are much better for CNC machines as some machines actaully use them, they have pre existing slots for you
                    to mount the bearings onto a flat surface. This would offer more freedom in my design. However, since I have already bought the linear bearings shown above, I decided to stick with them as not to waste my money.
                    This has handicapped me in terms of designs since I did not want to spend additonal money on a different sets of bearings and waste the ones I had already.
                  </p>

                </td>
            </tr>
          </table>

          <h3>Material Explaination</h3>
          <table style="width:100%">
          <tr>
            <th>Example</th>
            <th>Explaination</th>
          </tr>

          <tr>
          <td>
          <img src="EP1001PIC/patcom.png" style="width:75% ">
          </td>
          <td>
            <p>
              <h4>Infill Pattern Comparison</h4>
              For my CNC router design, I had to factors to consider while desgining it. One of these includes the infill pattern used while 3D printing the parts. Since part will undergo alot of load therefore I needed a part that handle both
              perpendicular and transverse load. Therefore I chose the trianglar infill pattern for my 3D printed part.
            </p>
          </td>
          </tr>

          <tr>
          <td>
          <img src="EP1001PIC/infcom.png" style="width:75% ">
          </td>
          <td>
            <p>
              <h4>Infill Density Comparison</h4>
               Infill Desnity also helps with the stress distribution of the load on the router. Generally the higher the infill the stronger the part is. However, there is a diminishing return for the Infill Desnity, ideally I would use 100%
               infill but due to material cost, print time and other factors, it is better to try to find a sweet between everything. I generally found a sweet spot for my parts around 20% - 30%. This allows me to hit the 3 hour printing limit of the
               fablab.
            </p>
          </td>
          </tr>

            <tr>


              <td><img src="EP1001PIC/plaf.jpeg" style="width:300px "></td>

              <td><h4>3D print material Comparsion</h4>
                <p>All of my 3D printed parts are printed with PLA+ or PLA-F both of which are better than PLA at least that's what I can find about them. PLA+ is stronger, more flexible, and more ductile than PLA and PLA-F is the results
              of combing PLA with ABS for a stronger material. Additonally, if I had access to print with PETG I would have taken it. The cost of PETG is almost the same and both of them are easy to print
              but PETG is a little bit more flexible so it's harder to break it which is more ideal for this project</p>

              </td>
          </tr>



          <tr>


            <td><img src="EP1001PIC/mdfvsply.jpg" style="width:300px "></td>

            <td><h4>Base Material Comparsion</h4>
              <p>My original plan was to use plywood to make the base since I thought it was the only material available at the fablab. I was informed that there was another material available at the fablab as well. Medium Desnity
              Fibreboard or MDF for short. After doing some reserach, I decied to go with MDF for two reasons. MDF is more dimensionally stable and more load resistant than plywood.</p>

            </td>
        </tr>
      </table>

      <h3>Fabrication:</h3>
  <table style="width:100%">
  <tr>
    <th>Image</th>
    <th>Explaination</th>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB1.jpg" style="width:300px "></td>

    <td><h4>PCB Fabrication.</h4>
      The PCB shown in this picture is for an ATmega328p. It looks very clean and the entire process of making this board was a learning experience with many trials and errors.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB2.jpg" style="width:300px "></td>

    <td>
      Error 1: Sercure the PCB properly, since the PCB uses 0.15 mil traces I had to be precise. I cannot afford simple mistakes like this where the piece came lose. Additionally it helps by taping up the sides to properly sercure it.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB3.jpg" style="width:300px "></td>

    <td>
      Error 2: Use proper tool bits. this mistake was made when I used a already blunt tool bit. Although it was difficult to tell what tool bit I was using after cutting for a while I realised the traces were too big and had to restart.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB4.jpg" style="width:300px "></td>

    <td>
      Error 3: Proper settings. Due to how accurate the milling had to be for the ATmega328p, I had to increase the spindle speed and decrease the feed rate for a more accurate cut. However this comes at a lost. The tool bit by wear off faster so it
      maybe handy to keep some spares on hand or adjust the Z axis bit by bit.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB5.jpg" style="width:300px "></td>

    <td>
      After learning from all my mistakes, I managed to properly mill the PCB board!
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB6.jpg" style="width:300px "></td>

    <td>
      Lasty, don't forget to give the board a proper sanding to remove the bur on the pad so it helps with soldering. Use a wire brush to remove the copper dust trapped between the traces and rinse it with water and soap to clean it. (Yes it helps.)
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB7.jpg" style="width:300px "></td>

    <td>
      Soldering on the ATmega328p for the PCB. I found out getting the corner pins helps with soldering. Due to how small the traces are it is best to use as little solder as possible.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB8.jpg" style="width:300px "></td>

    <td>
      I made a mistake with my PCB design I used a smaller tab for my osicallator clock so the 16 MHz clock does not fit.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB9.jpg" style="width:300px "></td>

    <td>
      I was given a 20MHz clock, I was told it should not affect much I just have to change bits of the code and the settings under tool.
    </td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/PCB10.jpg" style="width:300px "></td>

    <td>
      Final PCB. I realised I forgot to add addtional 5v and GND pins for to power the CNC motor shield so I would have to solder wires for that. I only need 7 pins  X, Y, Z Step and Dir and enable. Pins 0 & 1 are my RX TX so they
      can't be touched. That leaves me with 4 unused pins with is good as they can serve as backup pins incase one of the existing pins break. I made a mistkae on pin 7 where parts of the traces is not stuck to the board. Although I have fixed it for now,
      I still have 4 backup pins to use in case it breaks.
    </td>
  </tr>

  <tr>
      <td><img src="EP1001PIC/cncprep1.jpg" style="width:300px"></td>

      <td><img src="EP1001PIC/cncprep2.jpg" style="width:300px  "></td>
  </tr>

  <tr>
    <td><img src="EP1001PIC/cncprep3.jpg" style="width:300px "></td>

    <td><h4>CNC Milling</h4>
      <p>Since MDF was stronger than plywood, I had to increase the feed rate to ensure a smoother cut.</p>
    </td>
</tr>

<tr>
  <td><img src="EP1001PIC/cncprep4.jpg" style="width:300px "></td>

  <td>All 9 pieces finished fabrication. I made an addtional piece for me to cut during a demo.
  </td>
</tr>


  </table>

<h4>Intergration</h4>
<p>Intergration is the hardest part of any projects. I learnt from my last EP1000 projects not to make any jurassic last minute changes so the process was abit smoother and less stressful.</p>

<table style="width:100%">
<tr>
  <th>Image</th>
  <th>Explaination</th>
</tr>

  <tr>
    <td><img src="EP1001PIC/int1.jpg" style="width:300px "></td>

    <td>Spindle Carraige Assembly Prep
      <ul>
        <li>X - Axis Carriage</li>
        <li>Spindle Holder</li>
        <li>Nema 17 stepper Motor</li>
        <li>5 to 8 rod apdater</li>
        <li>2 X 12mm by 120mm Steel Rods</li>
        <li>120 mm Lead Screw</li>
        <li> *Not in the photo* 608 bearing fitted into the base of the Carraige</li>
      </ul>
    </td>
</tr>

<tr>
  <td><img src="EP1001PIC/int2.jpg" style="width:300px "></td>

  <td>I found out one of the ways to fit the bearaings into the part is to use a vice to push it in.
  </td>
</tr>

<tr>
<td><img src="EP1001PIC/int3.jpg" style="width:300px "></td>

<td>Testing the rod fitting into the carraige</td>
</tr>

<tr>
<td><img src="EP1001PIC/int4.jpg" style="width:300px "></td>

<td>Testing the stepper if it fits into the rod</td>
</tr>

<tr>
<td><img src="EP1001PIC/int5.jpg" style="width:300px "></td>

<td>X and Z axis carraige complete..</td>
</tr>

<tr>
<td><img src="Images/tnt/TestFull.gif" style="width:300px "></td>

<td>Once Fully tested and assembled, I tested if the launcher worked with when moving the X axis. Unfortunatly, it the Y axis servo isn't able to grip on to
the launcher.</td>
</tr>

<tr>
<td><img src="Images/tnt/TempFix.jpeg" style="width:300px "></td>

<td>As a temporary fix, I hotglued the mount to the servo. This caused a bigger issue. As the mount was unable to move since the Y axis motor becamed jammed with hotglue. I wasn't able to
attach it to the servo horn as the additional lenght will cause the ball bearing to not fix into the slot I made for it.</td>
</tr>

<tr>
<td><img src="Images/tnt/sec.jpeg" style="width:300px "></td>

<td>As I was cleaning up the hotglue from the servo motor, I made a realisation, that I could fit the dart launcher with a servo horn if I attach the screw hole of the sevo motor behind the wall.</td>
</tr>

<tr>
<td><img src="Images/tnt/servo2horn.jpeg" style="width:300px "></td>

<td>To implement this fix, I screwed the servo horn on to the servo to increase its grip. With the addition size of the screw, I fitted it into the mount and hotglue it together. The picture shows my final result.</td>
</tr>

<tr>
<td><img src="Images/tnt/6.jpeg" style="width:300px "></td>

<td>With everything attach together, it now works !</td>
</tr>

</table>

<h4>Reflection</h4>
  <img src="Images/tnt/Final.jpeg" style="width:600px ">
<p>After finish assembling the nerf dart launcher I learnt I alot of valuable advice. The lack of proper time management was one of them, this was due to my indecision to modify my base to add a plate. The change cost my more time asI had to readjust the placement of all the componets.
  and when it all still didn't fit, I had to modify the tray itself which took up more time then I indeed and planned for. In summary:</p>
<ul>
  <li>Creating a cardboard Mock up of your idea usually helps. This gives you a general sense of how your product is going to look like and you can make any modifications easily as it is cardboard.</li>
  <li>Only change your design when you need to. I already had the base fabriacted and it whave worked with all the compoents put in place. Yet I thought a tray would be better and conviced myself so. In the end I paid the price for it as I had to deal with the unintended consequences of it. Which cost me tons of my valuable time.</li>
</ul>

<p>Additional changes I would have made:</p>
<ul>
  <li>Creating a smaller turrent mount for the launcher. This reduces the overall weight on the servo. Which might allow it to move better.</li>
  <li>Minimzing the launcher. Although I found out that the launcher was larger than it was suppose to be. It could be much more thinner, as I hard a alot of spare room in the housing.</li>
</ul>
<p>In Conclusion, I have learnt alot from this project helping boost my personal experience. I enjoyed this module as I always loved to make stuff and this inspired to try doing more of it in my free time. Although my project isn't 100% what it was at the start, I believe that it gave my a better understanding myself and teach me an important lesson on both Design and Fabrication. </p>

<h3>1 minute project video:</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1FFB7ECubdk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>
    </div>
    <div id="footer">
        Copyright &copy; 2021 Javier Lee.
    </div>


 </div>
</body>
</html>
